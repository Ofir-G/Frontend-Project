<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ROI | Buy</title>
    <link rel="icon" type="image/x-icon" href="/pics/favicon.ico">
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@900&family=Ubuntu:ital,wght@1,500&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Itim&family=Oswald:wght@200;300;500&family=Special+Elite&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/css/buy.css">

</head>

<body>

    <header id="header"></header>

    <main class="container">
        <form class="needs-validation" novalidate method="post">

            <div class="row justify-content-md-center">
                <div id="scandes" class="card image1 m-3 col-md-6 p-0">
                    <img id="pictures" class="img-fluid image_hover card-img-top" src="/pics/scandes_pot.jpg" alt="Card image cap">
                    <div class="card-body text-center">
                        <h5 class="card-title price">Philodendron Scandens Brasil</h5>
                        <p class="card-text">It has a perfect green and yellow hue, it is strong, easy to care for And it also purifies the air!<br><b>Light intensity: </b>Low to high. No direct sun!
                            <br><b>When to water: </b>When the soil is completely dry.
                        </p>
                    </div>
                </div>
                <div id="Alocasia" class="card image2 m-3 col-md-6 p-0">
                    <img id="pictures" class="img-fluid image_hover card-img-top" src="/pics/aluksia_pot.jpg" alt="Card image cap">
                    <div class="card-body text-center">
                        <h5 class="card-title price">Alocasia Polly</h5>
                        <p class="card-text">A plant with a luxurious look that will upgrade any corner. The shape of its leaves is unique only to it - so you will immediately recognize it. Caution with watering, it is a bit spoiled.<br><b>Light intensity: </b>Medium to high.
                            No direct sun!<br><b>When to water: </b>When the top layer of soil dries up.</p>
                    </div>
                </div>
                <div id="Fiddle" class="card image3 m-3 col-md-6 p-0">
                    <img id="pictures" class="img-fluid image_hover card-img-top" src="/pics/fikuskinor_pot.jpg" alt="Card image cap">
                    <div class="card-body text-center">
                        <h5 class="card-title price">Fiddle-leaf Fig</h5>
                        <p class="card-text">It is strong, durable and easy to maintain. The leaves are like a broad violin, so powerful and green that you can think you're actually out. Only you are at home.
                            <br><b>Light intensity:
                            </b>Medium to high. No direct sun!<br><b>When to water: </b>When the soil is completely dry.
                        </p>
                    </div>
                </div>
            </div>
            <div class="row justify-content-md-center">
                <div id="Ficus" class="card image4 m-3 col-md-6 p-0">
                    <img id="pictures" class="img-fluid image_hover card-img-top" src="/pics/ficus_elastica_pot.jpg" alt="Card image cap">
                    <div class="card-body text-center">
                        <h5 class="card-title price">Ficus Elastica</h5>
                        <p class="card-text">You said houseplants, you said rubber ficus. It is so convenient to grow at home and in the office, that you Just have to have one in your private collection!
                            <br><b>Light intensity:
                            </b>High and even direct sun.<br><b>When to water: </b>When the soil is completely dry.
                        </p>
                    </div>
                </div>
                <div id="Boston" class="card image5 m-3 col-md-6 p-0">
                    <img id="pictures" class="img-fluid image_hover card-img-top" src="/pics/sarah_pot.jpg" alt="Card image cap">
                    <div class="card-body text-center">
                        <h5 class="card-title price">Boston Fern</h5>
                        <p class="card-text">A tropical plant with lots of little green leaves that love Moisture on a regular basis and therefore, is the perfect plant To the bathroom. In good light conditions, the fern Will multiply at a rapid rate.<br><b>Light intensity:
                            </b>Medium to high. No direct sun!<br><b>When to water: </b>It is important to keep the soil moist at all times.
                        </p>
                    </div>
                </div>
                <div id="Dieffenbachia" class="card image6 m-3 col-md-6 p-0">
                    <img id="pictures" class="img-fluid image_hover card-img-top" src="/pics/difenbechia_pot.jpg" alt="Card image cap">
                    <div class="card-body text-center">
                        <h5 class="card-title price">Dieffenbachia</h5>
                        <p class="card-text">The ultimate houseplant that gets along in every corner. In Brazil, the plant is used to ward off evil spirits and bring good luck. Will put you green wherever you put it. Toxic plant does not get along with animals and toddlers<br><b>Light intensity:
                            </b>Medium to high. No direct sun!<br><b>When to water: </b>When the soil is completely dry.
                        </p>
                    </div>
                </div>
            </div>
            <div class="row justify-content-md-center">
                <div id="Monstra" class="card image7 m-3 col-md-6 p-0">
                    <img id="pictures" class="img-fluid image_hover card-img-top" src="/pics/monstra_pot.jpg" alt="Card image cap">
                    <div class="card-body text-center">
                        <h5 class="card-title price">Monstra</h5>
                        <p class="card-text">Comes to us from the far rainforests of South America, It's wild, trendy and turns every corner into a real jungle!<br><b>Light intensity:
                            </b>Medium to high. No direct sun!<br><b>When to water: </b>When the soil is completely dry.
                        </p>
                    </div>
                </div>
                <div id="Zamia" class="card image8 m-3 col-md-6 p-0">
                    <img id="pictures" class="img-fluid image_hover card-img-top" src="/pics/zemia_pot.jpg" alt="Card image cap">
                    <div class="card-body text-center">
                        <h5 class="card-title price">Zamia Coconut</h5>
                        <p class="card-text">It is so easy and comfortable that even Serial "plant killers" will get along with him. Just put it in every corner That you want and he will already do the job.
                            <br><b>Light intensity:
                            </b>Low to high. Not direct sun<br><b>When to water: </b>When the soil is completely dry.
                        </p>
                    </div>
                </div>
                <div id="Sansevieria" class="card image9 m-3 col-md-6 p-0">
                    <img id="pictures" class="img-fluid image_hover card-img-top" src="/pics/sansi_pot.jpg" alt="Card image cap">
                    <div class="card-body text-center">
                        <h5 class="card-title price">Sansevieria Trifasciata</h5>
                        <p class="card-text">Sensivaria is a superhero, she can Survive for long periods, water-efficient, Easy to operate and most importantly, it is an air purifier of nature!
                            <br><b>Light
                                intensity:
                            </b>Low to high. Not direct sun<br><b>When to water: </b>When the soil is completely dry.
                        </p>
                    </div>
                </div>
            </div>
            </div>

            <div class="form-group">
                <label for="choosePlant ">Choose your plant! <span id="choice">Awsome Choice!</span></label>
                <select class="custom-select" id="choosePlant" name="plant" required onchange="plantcard()">
                    <option disabled selected value="">Choose...</option>
                    <option>Philodendron Scandens Brasil</option>
                    <option>Alocasia Polly</option>
                    <option>Fiddle-leaf Fig</option>
                    <option>Ficus Elastica</option>
                    <option>Dieffenbachia</option>
                    <option>Boston Fern</option>
                    <option>Monstra</option>
                    <option>Zamia Coconut</option>
                    <option>Sansevieria Trifasciata</option>
                </select>
                <div class="invalid-feedback">
                    You have to choose a plant to buy!
                </div>
            </div>



            <div class="form-row">
                <div class="col-md-4 mb-3">
                    <label for="firstName">First name</label>
                    <input type="text" class="form-control" id="firstName" placeholder="John" required pattern="[A-Za-z]{1,10}" maxlength="10" name="firstName">
                    <div class="invalid-feedback">
                        Please enter up to 10 alphabetical letters without space.
                    </div>
                </div>

                <div class="col-md-4 mb-3">
                    <label for="lastName">Last name</label>
                    <input type="text" class="form-control" id="lastName" placeholder="Smith" required pattern="[A-Za-z]{1,10}" maxlength="10" name="lastName">

                    <div class="invalid-feedback">
                        Please enter up to 10 alphabetical letters without space.
                    </div>
                </div>
                <div class="col-md-4 mb-3">

                    <label for="phone">Phone Number</label>
                    <input type="number" class="form-control" id="phone" placeholder="0500000000" name="phone" min="99999999" max="1000000000000000" minlength="9" required>
                    <div class="invalid-feedback">
                        Please provide a valid phone with min of 9 digits and max of 15 digits (no hyphen).
                    </div>
                </div>
            </div>

            <div class="form-row">
                <div class="col-md-6 mb-3">
                    <label for="street">Street Address</label>
                    <input type="text" class="form-control" id="street" required placeholder="Aza 23" name="street" pattern="[A-Za-z0-9\s]+" maxlength="50">
                    <div class="invalid-feedback">
                        No special characters are allowed. Only 50 characters.
                    </div>
                </div>

                <div class="col-md-3 mb-3">
                    <label for="city">City</label>
                    <select class="custom-select" id="city" required name="city">
                        <option selected disabled value="">Choose...</option>
                        <option>Tel Aviv</option>
                        <option>Petah Tikva</option>
                        <option>Holon</option>
                    </select>

                    <div class="invalid-feedback">
                        Please select a city.
                    </div>
                </div>

                <div class="col-md-3 mb-3">
                    <label for="zip">Zip</label>
                    <input type="number" class="form-control" id="zip" required placeholder="12345" name="zip" max="10000000000">
                    <div class="invalid-feedback">
                        Please provide a valid zip (no more then length of 10).
                    </div>
                </div>
            </div>

            <div class="form-froup mb-3">
                <div class="custom-control custom-switch">
                    <input type="checkbox" class="custom-control-input" id="callCheck">
                    <label class="custom-control-label" for="callCheck">Subscribe to get news about deals and new
                        plants!</label>
                </div>
            </div>

            <div class="form-froup mb-3">
                <label for="email">Email</label>
                <input type="email" class="form-control" id="email" placeholder="name@domain.com" name="email" required disabled pattern="[a-zA-Z0-9.-_]{1,}@[a-zA-Z.-]{2,}[.]{1}[a-zA-Z]{2,}">
                <div class="invalid-feedback">
                    Please insert valid email.
                </div>
            </div>

            <button id="btn-buy" class="btn btn-dark mt-4 mb-3" type="submit">Buy now!</button>
        </form>

    </main>

    <footer id="footer"></footer>

    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-fQybjgWLrvvRgtW6bFlB7jaZrFsaBXjsOMm/tB9LTS58ONXgqbR9W8oWht/amnpF" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

    <script src="/js/header_footer.js"></script>
    <script src="/js/buy.js"></script>

</body>

</html>

<?php
$server_name = "localhost";
$user_name = "ofirge_user";
$password = "123456";
$database_name = "ofirge_web";

//create connection
$conn = new mysqli($server_name, $user_name, $password, $database_name);

//check the connection
if ($conn->connect_error) {
  die("Connection failed: " . $conn->connect_error);
}
if ($_POST) {
  //get info from html
  $plant = $_POST['plant'];
  $firstName = $_POST['firstName'];
  $lastName = $_POST['lastName'];
  $street = $_POST['street'];
  $city = $_POST['city'];
  $zip = $_POST['zip'];
  $phone = $_POST['phone'];

  if (isset($_POST['email'])) {
    $email = $_POST['email'];
  } else {
    $email = NULL;
  }

  //add plant
  $sql = "insert into buy(plant,firstName,lastName,email, street, city, zip, phone) values ('" . $plant . "','" . $firstName . "','" . $lastName . "','" . $email . "','" . $street . "','" . $city . "'," . $zip . "," . $phone . ")";

  if ($conn->query($sql) == FALSE) {
    echo "Can not process order.  Error is: " . $conn->error;
    header("location:/includes/failedform.html");
    exit();
  } else {
    header("location:/includes/successform.html");
  }
}